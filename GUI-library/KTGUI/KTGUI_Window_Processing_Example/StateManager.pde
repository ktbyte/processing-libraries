/**********************************************************************************************************************
 *
 *********************************************************************************************************************/
class StateManager {
  List<State> states; // replace 'List' with 'Set' to prevent duplicates
  State activeState;

  //--------------------------------------------------------------------------------------------------
  //
  //--------------------------------------------------------------------------------------------------
  StateManager() {
    states = new ArrayList<State>();
    activeState = createState("default");
  }

  //--------------------------------------------------------------------------------------------------
  //
  //--------------------------------------------------------------------------------------------------
  State createState(String name) {
    State state = new State(name);
    states.add(state);
    activeState = state;
    return state;
  }

  //--------------------------------------------------------------------------------------------------
  //
  //--------------------------------------------------------------------------------------------------
  void goToState(State state) {
    activeState = state;
  }

  //--------------------------------------------------------------------------------------------------
  //
  //--------------------------------------------------------------------------------------------------
  void goToState(int numState) {
    if (numState > 0 && numState < states.size()) {
      activeState = states.get(numState);
    }
  }

  //--------------------------------------------------------------------------------------------------
  //
  //--------------------------------------------------------------------------------------------------
  void goToNextState() {
    int indexOfCurrentState = states.indexOf(activeState);
    int next = (indexOfCurrentState < states.size() - 1) ? ++indexOfCurrentState : 0;
    activeState = states.get(next);
  }

  //--------------------------------------------------------------------------------------------------
  //
  //--------------------------------------------------------------------------------------------------
  void printStates() {
    for (int i = 0; i < states.size(); i++) {
      println("[" + i + "] - " + states.get(i).name);
    }
  }

  //--------------------------------------------------------------------------------------------------
  //
  //--------------------------------------------------------------------------------------------------
  List<State> getStates() {
    return states;
  }
}
